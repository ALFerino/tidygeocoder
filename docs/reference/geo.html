<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Geocode addresses — geo • tidygeocoder</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Geocode addresses — geo" />
<meta property="og:description" content="The geocode function utilizes this function
on addresses contained in dataframes. Note that not all geocoder services
support certain address component parameters. For example, the Census geocoder only
covers the United States and does not have a `country` parameter. Refer to
api_parameter_reference for more details on geocoder services and API usage. 
This function uses the get_api_query, query_api, and
extract_results functions to create, execute, and parse the geocoder
API queries." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidygeocoder</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/tidygeocoder.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jessecambon/tidygeocoder/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Geocode addresses</h1>
    <small class="dont-index">Source: <a href='https://github.com/jessecambon/tidygeocoder/blob/master/R/geo.R'><code>R/geo.R</code></a></small>
    <div class="hidden name"><code>geo.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code><a href='geocode.html'>geocode</a></code> function utilizes this function
on addresses contained in dataframes. Note that not all geocoder services
support certain address component parameters. For example, the Census geocoder only
covers the United States and does not have a `country` parameter. Refer to
<code><a href='api_parameter_reference.html'>api_parameter_reference</a></code> for more details on geocoder services and API usage. 
This function uses the <code><a href='get_api_query.html'>get_api_query</a></code>, <code><a href='query_api.html'>query_api</a></code>, and
<code><a href='extract_results.html'>extract_results</a></code> functions to create, execute, and parse the geocoder
API queries.</p>
    </div>

    <pre class="usage"><span class='fu'>geo</span>(
  <span class='kw'>address</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>street</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>city</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>county</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>state</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>postalcode</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>country</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"census"</span>,
  <span class='kw'>cascade_order</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"census"</span>, <span class='st'>"osm"</span>),
  <span class='kw'>lat</span> <span class='kw'>=</span> <span class='no'>lat</span>,
  <span class='kw'>long</span> <span class='kw'>=</span> <span class='no'>long</span>,
  <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>min_time</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>api_url</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>timeout</span> <span class='kw'>=</span> <span class='fl'>20</span>,
  <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>full_results</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>unique_only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>return_addresses</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>flatten</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>batch_limit</span> <span class='kw'>=</span> <span class='fl'>10000</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>no_query</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>custom_query</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  <span class='kw'>return_type</span> <span class='kw'>=</span> <span class='st'>"locations"</span>,
  <span class='kw'>iq_region</span> <span class='kw'>=</span> <span class='st'>"us"</span>,
  <span class='kw'>geocodio_v</span> <span class='kw'>=</span> <span class='fl'>1.6</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>address</th>
      <td><p>single line address (ie. '1600 Pennsylvania Ave NW, Washington, DC').
Do not combine with the address component arguments below
(street, city , county, state, postalcode, country).</p></td>
    </tr>
    <tr>
      <th>street</th>
      <td><p>street address (ie. '1600 Pennsylvania Ave NW')</p></td>
    </tr>
    <tr>
      <th>city</th>
      <td><p>city (ie. 'Tokyo')</p></td>
    </tr>
    <tr>
      <th>county</th>
      <td><p>county (ie. 'Jefferson')</p></td>
    </tr>
    <tr>
      <th>state</th>
      <td><p>state (ie. 'Kentucky')</p></td>
    </tr>
    <tr>
      <th>postalcode</th>
      <td><p>postalcode (zip code if in the United States)</p></td>
    </tr>
    <tr>
      <th>country</th>
      <td><p>country (ie. 'Japan')</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>the geocoder service to be used. Refer to 
<code><a href='api_parameter_reference.html'>api_parameter_reference</a></code> and the API documentation for
each geocoder service for more details on usage on each service.</p><ul>
<li><p>"census": US Census Geocoder. US street-level addresses only. 
     Can perform batch geocoding.</p></li>
<li><p>"osm": Nominatim (OSM). Worldwide coverage. Has a usage limit
       (see API documentation for details).</p></li>
<li><p>"geocodio": Commercial geocoder. Covers US and Canada and has
     batch geocoding capabilities. Requires an API Key to be stored in
     the "GEOCODIO_API_KEY" environmental variable.</p></li>
<li><p>"iq": Commercial OSM geocoder service. Requires an API Key to
     be stored in the "LOCATIONIQ_API_KEY" environmental variable.</p></li>
<li><p>"cascade" : Attempts to use one geocoder service and then uses
    a second geocoder service if the first service didn't return results.
    The services and order is specified by the cascade_order argument. 
    Note that this is not compatible with full_results = TRUE as geocoder
    services have different columns that they return.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>cascade_order</th>
      <td><p>a vector with two character values for the method argument 
in the order in which the geocoder services will be attempted for method = "cascade"</p></td>
    </tr>
    <tr>
      <th>lat</th>
      <td><p>latitude column name. Can be quoted or unquoted (ie. lat or 'lat').</p></td>
    </tr>
    <tr>
      <th>long</th>
      <td><p>longitude column name. Can be quoted or unquoted (ie. long or 'long').</p></td>
    </tr>
    <tr>
      <th>limit</th>
      <td><p>number of results to return per address. Note that 
limit &gt; 1 is not compatible with batch geocoding if return_addresses = TRUE.</p></td>
    </tr>
    <tr>
      <th>min_time</th>
      <td><p>minimum amount of time for a query to take (in seconds) if using
Location IQ or OSM. This parameter is used to abide by API usage limits. You can
set it to a lower value (ie. 0) if using a local Nominatim server, for instance.</p></td>
    </tr>
    <tr>
      <th>api_url</th>
      <td><p>Custom API URL. If specified, the default API URL will be overridden.
This can be used to specify a local Nominatim server.</p></td>
    </tr>
    <tr>
      <th>timeout</th>
      <td><p>query timeout (in minutes)</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>set to 'batch' to force batch geocoding and 'single' to 
force single address geocoding (one address per query). If not 
specified then batch geocoding will be used if available
(given method selected) when multiple addresses are provided, otherwise
single address geocoding will be used.</p></td>
    </tr>
    <tr>
      <th>full_results</th>
      <td><p>returns all data from geocoder service if TRUE</p></td>
    </tr>
    <tr>
      <th>unique_only</th>
      <td><p>only return results for unique addresses if TRUE</p></td>
    </tr>
    <tr>
      <th>return_addresses</th>
      <td><p>return input addresses with results if TRUE</p></td>
    </tr>
    <tr>
      <th>flatten</th>
      <td><p>if TRUE then any nested dataframes in results are flattened</p></td>
    </tr>
    <tr>
      <th>batch_limit</th>
      <td><p>limit to the number of addresses in a batch geocoding query.
Both geocodio and census batch geocoders have a 10,000 address limit so this
is the default.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>if TRUE then detailed logs are output to the console</p></td>
    </tr>
    <tr>
      <th>no_query</th>
      <td><p>if TRUE then no queries are sent to the geocoder and verbose is set to TRUE</p></td>
    </tr>
    <tr>
      <th>custom_query</th>
      <td><p>API-specific parameters to be used, passed as a named list 
(ie. list(vintage = 'Current_Census2010'))</p></td>
    </tr>
    <tr>
      <th>return_type</th>
      <td><p>(census only) 'locations' (default) or 'geographies' which 
returns additional census geography columns. See the Census geocoder API 
documentation for more details.</p></td>
    </tr>
    <tr>
      <th>iq_region</th>
      <td><p>'us' (default) or 'eu'. Used for establishing API URL for the 'iq' method</p></td>
    </tr>
    <tr>
      <th>geocodio_v</th>
      <td><p>version of geocodio api. 1.6 is default. Used for establishing API URL
for the 'geocodio' method.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>parsed results from the geocoder service</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>See example usage in <code><a href='../articles/tidygeocoder.html'>vignette("tidygeocoder")</a></code></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>

<span class='fu'>geo</span>(<span class='kw'>street</span> <span class='kw'>=</span> <span class='st'>"600 Peachtree Street NE"</span>, <span class='kw'>city</span> <span class='kw'>=</span> <span class='st'>"Atlanta"</span>, <span class='kw'>state</span> <span class='kw'>=</span> <span class='st'>"Georgia"</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"census"</span>)</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1 x 5</span><span>
#&gt;   street                  city    state     lat  long
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> 600 Peachtree Street NE Atlanta Georgia  33.8 -</span><span style='color: #BB0000;'>84.4</span><span></div><div class='input'>
<span class='fu'>geo</span>(<span class='kw'>address</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Tokyo, Japan"</span>, <span class='st'>"Lima, Peru"</span>, <span class='st'>"Nairobi, Kenya"</span>), <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>'osm'</span>)</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 3 x 3</span><span>
#&gt;   address           lat  long
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>           </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> Tokyo, Japan    35.7  140. 
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> Lima, Peru     -</span><span style='color: #BB0000;'>12.1</span><span>  -</span><span style='color: #BB0000;'>77.0</span><span>
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> Nairobi, Kenya  -</span><span style='color: #BB0000;'>1.28</span><span>  36.8</div><div class='input'>
<span class='fu'>geo</span>(<span class='kw'>county</span><span class='kw'>=</span><span class='st'>'Jefferson'</span>, <span class='kw'>state</span> <span class='kw'>=</span> <span class='st'>"Kentucky"</span>, <span class='kw'>country</span> <span class='kw'>=</span> <span class='st'>"US"</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>'osm'</span>)</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 1 x 5</span><span>
#&gt;   county    state    country   lat  long
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> Jefferson Kentucky US       38.2 -</span><span style='color: #BB0000;'>85.7</span><span></div><div class='input'>
# }
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jesse Cambon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


